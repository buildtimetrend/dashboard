<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset='utf-8' />
  <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />

  <title>Build trends</title>
  <script type="text/javascript" src="config.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="https://d26b395fwzu5fz.cloudfront.net/3.2.4/keen.min.js"></script>
  <script type="text/javascript">
//<![CDATA[
    // configure Keen.io API client, keenConfig is defined in config.js
    var client = new Keen(keenConfig);
  //]]>
  </script>
  <script type="text/javascript" src="assets/js/trends.js"></script>
  <link type="text/css" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" />
  <link type="text/css" rel="stylesheet" href="assets/css/keen-dashboards.css" />
  <link type="text/css" rel="stylesheet" href="assets/css/trends.css" />
</head>

<body class="application">
  <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar">&nbsp;</span>
        </button>
        <a class="navbar-brand" href="../">
          <span class="glyphicon glyphicon-chevron-left"></span>
        </a>
        <a id="title" class="navbar-brand" href="./">Build trends</a>
        <a id="repo-url" class="navbar-brand" href="./" style="display: none;">
          <img width="21" height="21" src="assets/images/github.svg" alt="GitHub icon" />
        </a>
      </div>

      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-left">
          <li id="projects" class="dropdown" style="display: none;">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
	      Projects<span class="caret">&nbsp;</span>
            </a>
            <ul class="dropdown-menu" role="menu">
            </ul>
          </li>
          <li><a href="https://buildtimetrend.github.io/">About Buildtime Trend</a></li>
        </ul>
      </div>
    </div>
  </div>

  <p>
    Timeframe :
    <select id="intervals" onchange="updateCharts(this.value)">
      <option value="day">Day</option>
      <option value="week" selected="selected">Week</option>
      <option value="month">Month</option>
      <option value="year">Year</option>
    </select>

    <a id="badge" class="pull-right flip" href="#">
      <img id="badge-url" src="https://buildtimetrend.herokuapp.com/badge" alt="Buildtime Trend badge" />
    </a>
  </p>

  <div id="message" class="alert alert-info" role="alert" style="display: none;">
    &nbsp;
  </div>

  <div id="charts" class="container-fluid" style="display: none;">
    <div class="row">
      <div class="col-sm-4 col-md-2">
        <div id="metric_total_builds"></div>
      </div>
      <div class="col-sm-4 col-md-2">
        <div id="metric_total_builds_passed"></div>
      </div>
      <div class="col-sm-4 col-md-2">
        <div id="metric_total_builds_failed"></div>
      </div>
      <div class="col-sm-6 col-md-3">
        <div id="metric_average_build_time"></div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-6">
        <div class="chart-wrapper">
          <div class="chart-stage">
            <div id="chart_stage_duration"></div>
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="chart-wrapper">
          <div class="chart-stage">
            <div id="chart_stage_fraction"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-6">
        <div class="chart-wrapper">
          <div class="chart-stage">
            <div id="chart_builds"></div>
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="chart-wrapper">
          <div class="chart-stage">
            <div id="chart_total_builds_branch"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-6">
        <div class="chart-wrapper">
          <div class="chart-stage">
            <div id="chart_jobs_result"></div>
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="chart-wrapper">
          <div class="chart-title">
            <div class="btn-group-xs">Build job result
              <button type="button" id="result_passed" class="btn btn-default">Passed</button>
              <button type="button" id="result_failed" class="btn btn-default">Failed</button>
              <button type="button" id="result_errored" class="btn btn-default">Errored</button>
            </div>
            <div class="btn-group-xs">Group by
              <button type="button" id="groupby_branch" class="btn btn-default">Branch</button>
              <button type="button" id="groupby_matrix" class="btn btn-default">Build matrix</button>
            </div>
          </div>
          <div class="chart-stage">
            <div id="chart_jobs_result_branch"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-6">
        <div class="chart-wrapper">
          <div class="chart-stage">
            <div id="chart_avg_buildtime_hour"></div>
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="chart-wrapper">
          <div class="chart-stage">
            <div id="chart_avg_buildtime_weekday"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <p>
    Powered by <a href="https://buildtimetrend.github.io/">Buildtime Trend</a> (v0.3-dev).<br />
    Using the <a href="https://keen.io/">Keen.io</a> API for data analysis and visualisation.
  </p>
</body>
</html>
